# Development setup for charger offchain worker

## Generate a new charger key

Use [subkey](https://substrate.dev/docs/en/knowledgebase/integrate/subkey) to generate a new keypair:

```
subkey generate
```

## Start the substrate node

To start with debug logs:

```
cargo run -- -lpallet_charge_session=debug,charger_service=debug --dev
```

## Transfer units to charger account

With the substrate node running, make a transfer of 1000000000000 units to Account ID of the charger (output of the `subkey generate` command).

## Register the charger account in the keystore

```
curl -X POST 'localhost:9933' \
  --header 'Content-Type: application/json' \
  --data-raw '{c
      "jsonrpc":"2.0",
      "id":1,
      "method":"author_insertKey",
      "params": [
        "chrg",
        "{{ Secret seed generated by subkey command }}",
        "{{ Public key generated by subkey command, format 0x..... }}"
      ]
  }'
```